<view class="page-container">
  <view class="tab-bar">
    <view class="tab-item {{currentTab==0?'active':''}}" data-index="0" bindtap="switchTab">用户管理</view>
    <view class="tab-item {{currentTab==1?'active':''}}" data-index="1" bindtap="switchTab">俱乐部管理</view>
  </view>

  <view wx:if="{{currentTab==0}}" class="tab-content">
    <view class="search-row">
      <input class="search-input" placeholder="输入用户ID或昵称" bindinput="onUserInput" confirm-type="search" bindconfirm="searchUsers" />
      <button size="mini" bindtap="searchUsers">搜索</button>
    </view>
    <view class="dashboard">
      <view class="card" bindtap="openAllUsers">总用户数: {{totalUsers}}</view>
      <view class="card" bindtap="openAllMatches">总比赛数: {{totalMatches}}</view>
    </view>
    <view class="chart-placeholder">用户增长趋势/比赛活跃度</view>
  </view>

  <view wx:elif="{{currentTab==1}}" class="tab-content">
    <view class="search-row">
      <input class="search-input" placeholder="输入俱乐部ID或名称" bindinput="onClubInput" confirm-type="search" bindconfirm="searchClubs" />
      <button size="mini" bindtap="searchClubs">搜索</button>
    </view>
    <view class="dashboard">
      <view class="card">总俱乐部数: {{totalClubs}}</view>
      <view class="card">待处理事项: {{pendingItems}}</view>
    </view>
    <view class="rank-list">
      <block wx:for="{{topClubs}}" wx:key="club_id" wx:for-index="index">
        <view class="rank-item">{{index+1}}. {{item.name}} ({{item.total_matches}} 场)</view>
      </block>
      <view wx:if="{{!topClubs.length}}" class="empty">暂无数据</view>
    </view>
  </view>
</view>
