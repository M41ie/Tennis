<view class="mode-switch">
  <view class="mode-item {{filter.mode === 'Singles' ? 'active' : ''}}" data-mode="Singles" bindtap="switchMode">单打</view>
  <view class="mode-item {{filter.mode === 'Doubles' ? 'active' : ''}}" data-mode="Doubles" bindtap="switchMode">双打</view>
</view>

<view class="filter-bar">
  <view class="filter-item" bindtap="openClub">俱乐部</view>
  <picker mode="region" bindchange="onRegionChange" value="{{region}}">
    <view class="filter-item">{{regionText}}</view>
  </picker>
  <view class="filter-item" bindtap="chooseGender">{{genderText}}</view>
  <!-- Level and age filters removed -->
</view>

<view wx:if="{{showClubDialog}}" class="dialog">
  <radio-group bindchange="onClubsChange">
    <label wx:for="{{clubs}}" wx:key="id" class="chk">
      <radio value="{{item.id}}" checked="{{item.id === selectedClub}}">{{item.name}}</radio>
    </label>
  </radio-group>
  <button bindtap="confirmClub">确定</button>
</view>

<!-- Dialogs for level and age filters removed -->
<view>
  <block wx:for="{{players}}" wx:key="user_id">
    <view class="player-card" bindtap="viewPlayer" data-id="{{item.user_id}}" data-cid="{{item.club_id}}">
      <view class="rank">{{index + 1}}</view>
      <image class="avatar" src="{{item.avatar}}" mode="aspectFill"></image>
      <view class="info">
        <view class="name">{{item.name}}</view>
        <view class="meta">{{item.gender=='M'?'男':item.gender=='F'?'女':'-'}} · {{filter.mode === 'Singles' ? '单打场次:' : '双打场次:'}} {{filter.mode === 'Singles' ? item.weighted_singles_matches : item.weighted_doubles_matches}}</view>
      </view>
      <view class="score">{{item.rating}}</view>
    </view>
  </block>
</view>
