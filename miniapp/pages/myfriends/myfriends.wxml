<view catchtap="hideKeyboard">
  <view wx:if="{{isLoading}}" class="empty">{{t.loading}}</view>
  <view wx:elif="{{isError}}" class="empty">{{t.loadFailed}}</view>
  <view wx:elif="{{!list.length}}" class="empty">{{t.noFriends}}</view>
  <block wx:else>
    <view class="summary">æ‚¨å…±ä¸{{totalFriends}}ä½çƒå‹å¯¹æˆ˜/æ­æ¡£è¿‡ï¼š</view>
    <block wx:for="{{list}}" wx:key="user_id">
      <view class="friend-item" bindtap="viewFriend" data-uid="{{item.user_id}}">
        <view class="left">
          <image class="avatar" src="{{item.avatar || placeholderAvatar}}" mode="aspectFill"></image>
          <view class="name">{{item.name}}</view>
        </view>
        <view class="stats">
          <view class="col">
            <view class="icon">âš”ï¸å•æ‰“</view>
            <view class="text">
              <block wx:if="{{item.matches_singles && item.matches_singles.count}}">
                äº¤æ‰‹{{item.matches_singles.count}}åœº
              </block>
              <block wx:else>{{t.noAgainst}}</block>
            </view>
            <view class="score {{item.matches_singles.cls}}">{{item.matches_singles.display}}</view>
          </view>
          <view class="col">
            <view class="icon">âš”ï¸åŒæ‰“</view>
            <view class="text">
              <block wx:if="{{item.matches_doubles && item.matches_doubles.count}}">
                äº¤æ‰‹{{item.matches_doubles.count}}åœº
              </block>
              <block wx:else>{{t.noAgainst}}</block>
            </view>
            <view class="score {{item.matches_doubles.cls}}">{{item.matches_doubles.display}}</view>
          </view>
          <view class="col">
            <view class="icon">ğŸ¤åŒæ‰“</view>
            <view class="text">
              <block wx:if="{{item.matches_partnered && item.matches_partnered.count}}">
                æ­æ¡£{{item.matches_partnered.count}}åœº
              </block>
              <block wx:else>{{t.noPartner}}</block>
            </view>
            <view class="score {{item.matches_partnered.cls}}">{{item.matches_partnered.display}}</view>
          </view>
        </view>
      </view>
    </block>
  </block>
</view>
