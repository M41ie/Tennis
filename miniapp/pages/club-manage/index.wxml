<view class="search-box">
  <input placeholder="搜索俱乐部" bindinput="onSearch" value="{{query}}" />
  <scroll-view scroll-y class="result-list" wx:if="{{searchResults.length}}">
    <block wx:for="{{searchResults}}" wx:key="club_id">
      <view class="club-card">
        <view class="info">
          <view class="name">{{item.name}}</view>
          <view class="extra">人数 {{item.member_count || '--'}} · 部长 {{item.leader || item.leader_id || '--'}}</view>
        </view>
        <button class="apply-btn" data-id="{{item.club_id}}" bindtap="joinClub" disabled="{{item.joined}}">
          {{item.joined ? '已加入' : '申请加入'}}
        </button>
      </view>
    </block>
  </scroll-view>
</view>
<view class="section-title">我加入的俱乐部</view>
<scroll-view scroll-y class="my-clubs">
  <block wx:for="{{myClubs}}" wx:key="club_id">
    <view class="my-card">
      <view class="main" data-id="{{item.club_id}}" bindtap="openClub">
        <view class="info">
          <view class="name">{{item.name}}</view>
          <view class="slogan" wx:if="{{item.slogan}}">{{item.slogan}}</view>
          <view class="stats">
            <view>成员 {{item.member_count}} 人</view>
            <view>单打：{{item.singles_range}}，平均 {{item.singles_avg}}，共计 {{item.total_singles}} 场</view>
            <view>双打：{{item.doubles_range}}，平均 {{item.doubles_avg}}，共计 {{item.total_doubles}} 场</view>
          </view>
        </view>
        <view class="role">{{item.roleText}}</view>
      </view>
    </view>
  </block>
</scroll-view>
