业余网球评级小程序
我想做一个服务于网球爱好者的微信小程序，是模仿 UTR 算法的网球水平评分系统，我希望它具备以下特性：
算法层面
* 评分范围：新录入系统的选手初始评分通过其他用户的预评分以及初次战绩后的评分调整而定；关于预评分：未有系统评分的用户可加入俱乐部，并邀请俱乐部内的用户对其进行预评分，比赛场次越多的用户，其预评分权重更高，而尚未有比赛成绩录入的用户权重最低
* 评分调整：基于对战双方的赛前评分和对战结果调整赛后评分，考虑双方的实力差距和比分差距；
* 对手强度影响：击败比自己强的获得更多评分增长，输给比自己弱的扣分更多；强者赢弱者要赢得符合/超过预期的比分才能获得评分增长
* 比赛权重：六局制（1）>四局制（0.7）>抢11（0.3）>抢10（0.27）>抢7（0.2），比赛权重影响当次赛后评分的计算
* 经验增长：根据选手对局的局数/分数，提供经验得分并计入评分，以体现选手水平随着对战经验的积累而自然增长（每次经验得分很少，且高阶选手更难获得经验得分），同时使系统脱离零和游戏
* 具体算法：我已有计算单次比赛赛后评分的成熟算法（见 “业余网球评分系统.xlsx” 里的算法），但需要补充随时间加权平均计算最终评分的算法
* 用户输入：用户输入比赛时间地点、赛制、比分，等待其他参与者确认后，生成参与者的最新评分
* 单打和双打：支持单双打评分，用户的单双打的评分分开显示；双打评分采用与单打类似的算法，先平均计算双方的赛前评分，再根据比赛结果计算双方的平均赛后评分，平均赛后评分按队友二人赛前评分按比例分配生成每个参与者的赛后单人评分
功能层面
* 俱乐部创建和加入：每个用户都可创建和加入俱乐部，每人最多创建一个俱乐部（会员最多可创建五个俱乐部），最多加入五个俱乐部（会员最多加入十个俱乐部）；创建俱乐部需要一定费用（会员可免费创建一个俱乐部）；俱乐部创建时需设置名称、logo、地区、成员水平范围（非硬性要求）、会籍制度（免费审核加入制、一次性付费制、年费制，所产生的交易小程序主体会抽成10%）
* 俱乐部：俱乐部内可设置一位部长和三位管理员；部长和管理员对俱乐部内的成员进行管理（批准加入/踢出俱乐部/拉黑）并需要审核成员录入的比赛成绩；
* 界面：首页为排行榜页面，第二页为自己的对战记录，第三页为约球页面，最后为用户个人页面；具体功能描述如下
* 排行榜页：主要是具有筛选条件（单打/双打，默认为单打；全部自己所在俱乐部/具体俱乐部，默认为全部自己所在的俱乐部；评分范围，默认为全范围；年龄范围，默认为全年龄范围；性别，默认为全性别）的排行榜；排行榜显示用户头像、用户名、评分；点开后可以查看对方更详细的信息，如用户名、性别、年龄、所在俱乐部、单双打评分等
* 对战记录页面：显示用户自己的对战记录卡片，卡片上具体显示对战时间地点、赛制、比分情况、比赛后双方的最终评分及相对变化；点开卡片后，用户可查看更具体的对战信息，除了上诉信息外，还有可以有比赛地点，双方各自的预期得分率和实际得分率的数据，付费订阅用户还可记录及查看对战笔记，否则相关按钮为灰色，点击后进入订阅解锁页面
* 约球页面：用户可发布约球信息（需选择哪些俱乐部成员可见，可多选）；约球信息的发布以接龙形式，需说明时间、地点、人数、人均费用、评分要求（强制，只有符合该评分范围的用户可接龙）；约球信息可被转发分享至微信聊天
* 个人页面：显示登陆用户的基本信息（头像、用户名、用户id、单打评分、双打评分等），未登陆用户引导登陆，未有评分的用户可引导其加入俱乐部，并邀请俱乐部成员预评分；该页面还可生成可分享的“网球名片”，显示其基本信息；该页面还具备用户的评分变化走势图，付费订阅后解锁；该页面还有俱乐部管理功能，点开后可搜索并加入俱乐部、有自己已加入的俱乐部，以及自己作为部长/管理员管理俱乐部
